#\!/usr/bin/env bash\nset -euo pipefail\n\n# Apply or update the repository ruleset from a JSON file using GitHub CLI.\n# Usage:\n#   bash scripts/configure-rulesets.sh [tooling/rulesets/merge-group-required.json]\n# Env:\n#   REPO=owner/name     # optional, defaults to current gh repo\n#   GH_TOKEN/GITHUB_TOKEN must be set and have admin:repo or repo scope\n\nJSON_PATH="tooling/rulesets/merge-group-required.json"\n\nif \! command -v gh >/dev/null 2>&1; then\n  echo "Error: GitHub CLI 'gh' is required. Install from https://cli.github.com/" >&2\n  exit 1\nfi\n\nif \! command -v jq >/dev/null 2>&1; then\n  echo "Error: 'jq' is required. Install from https://stedolan.github.io/jq/" >&2\n  exit 1\nfi\n\nREPO=""\nif [[ -z "" ]]; then\n  # Use current repo from gh context\n  REPO=""\nfi\n\nif [[ \! -f "" ]]; then\n  echo "Error: ruleset JSON not found at " >&2\n  exit 1\nfi\n\nNAME=""\nif [[ -z "" || "" == "null" ]]; then\n  echo "Error: JSON must include a non-empty 'name' field" >&2\n  exit 1\nfi\n\necho "Applying ruleset '' to  from  ..."\n\nset +e\nEXISTING_ID=""\nset -e\n\nif [[ -n "" ]]; then\n  echo "Found existing ruleset id=; patching ..."\n  gh api repos//rulesets/ -X PATCH --input ""\nelse\n  echo "No existing ruleset named ''; creating ..."\n  gh api repos//rulesets -X POST --input ""\nfi\n\necho "Done."\n
